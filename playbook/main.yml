- name: Deploy War Files to JBoss
  hosts: target1
  become: yes

  tasks:
    - name: Read configuration from config.yml
      include_vars:
        file: "{{ GITHUB_WORKSPACE }}/config.yml"

    - name: Set roles_path variable
      set_fact:
        roles_path: "/etc/ansible/roles/dillibabu91GIT.ansible-1.ansible-role-jboss-deploy"

    - name: Debug role path
      debug:
        msg: "Role path is {{ roles_path }}"

    - name: Include ansible-role-jboss-deploy from another repository
      include_role:
        name: "/etc/ansible/roles/dillibabu91GIT.ansible-1.ansible-role-jboss-deploy"
